<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bangladesh Map Database - Simple Version</title>
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üó∫Ô∏è</text></svg>">
    <script src="https://cdn.jsdelivr.net/npm/sql.js@1.8.0/dist/sql-wasm.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .controls {
            padding: 20px;
            background: #f8f9fa;
            border-bottom: 1px solid #dee2e6;
        }

        .search-container {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            align-items: center;
        }

        .search-box {
            flex: 1;
            min-width: 200px;
            padding: 12px 15px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .search-box:focus {
            outline: none;
            border-color: #667eea;
        }

        .filter-select {
            padding: 12px 15px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 16px;
            background: white;
            cursor: pointer;
        }

        .btn {
            padding: 12px 25px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            transition: background 0.3s;
        }

        .btn:hover {
            background: #5a6fd8;
        }

        .btn:disabled {
            background: #6c757d;
            cursor: not-allowed;
        }

        .content {
            padding: 30px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 1rem;
            opacity: 0.9;
        }

        .data-section {
            margin-bottom: 40px;
        }

        .section-title {
            font-size: 1.8rem;
            color: #2c3e50;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
        }

        .data-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .data-card {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 10px;
            padding: 20px;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .data-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        .data-card h3 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 1.3rem;
        }

        .data-card .bengali {
            color: #667eea;
            font-size: 1.1rem;
            margin-bottom: 15px;
        }

        .data-card p {
            color: #6c757d;
            line-height: 1.6;
            margin-bottom: 10px;
        }

        .coordinates {
            background: #e9ecef;
            padding: 8px 12px;
            border-radius: 5px;
            font-family: monospace;
            font-size: 0.9rem;
            color: #495057;
        }

        .loading {
            text-align: center;
            padding: 50px;
            color: #6c757d;
        }

        .error {
            background: #f8d7da;
            color: #721c24;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .status {
            background: #d4edda;
            color: #155724;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }

        @media (max-width: 768px) {
            .search-container {
                flex-direction: column;
            }
            
            .search-box, .filter-select, .btn {
                width: 100%;
            }
            
            .header h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üó∫Ô∏è Bangladesh Map Database</h1>
            <p>Interactive geographical information system</p>
        </div>

        <div class="controls">
            <div class="search-container">
                <input type="text" id="searchInput" class="search-box" placeholder="Search divisions, districts, rivers, or landmarks...">
                <select id="filterSelect" class="filter-select">
                    <option value="all">All Data</option>
                    <option value="divisions">Divisions</option>
                    <option value="districts">Districts</option>
                    <option value="rivers">Rivers</option>
                    <option value="landmarks">Landmarks</option>
                </select>
                <button id="searchBtn" class="btn">Search</button>
                <button id="loadBtn" class="btn" disabled>Loading Database...</button>
            </div>
        </div>

        <div class="content">
            <div id="statusContainer"></div>
            
            <div id="statsContainer" class="stats-grid" style="display: none;">
                <div class="stat-card">
                    <div class="stat-number" id="divisionsCount">0</div>
                    <div class="stat-label">Divisions</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="districtsCount">0</div>
                    <div class="stat-label">Districts</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="riversCount">0</div>
                    <div class="stat-label">Rivers</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="landmarksCount">0</div>
                    <div class="stat-label">Landmarks</div>
                </div>
            </div>

            <div id="dataContainer">
                <div class="loading">
                    <h3>Loading Bangladesh geographical database...</h3>
                    <p>This may take a moment as the database loads in your browser</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        let db = null;
        let currentData = {};
        let filteredData = {};

        // DOM elements
        const searchInput = document.getElementById('searchInput');
        const filterSelect = document.getElementById('filterSelect');
        const searchBtn = document.getElementById('searchBtn');
        const loadBtn = document.getElementById('loadBtn');
        const statsContainer = document.getElementById('statsContainer');
        const dataContainer = document.getElementById('dataContainer');
        const statusContainer = document.getElementById('statusContainer');

        // Event listeners
        searchBtn.addEventListener('click', searchData);
        searchInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') searchData();
        });

        // Initialize the database
        async function initDatabase() {
            try {
                showStatus('Initializing SQLite database...', 'loading');
                
                // Initialize SQL.js
                const SQL = await initSqlJs({
                    locateFile: file => `https://cdn.jsdelivr.net/npm/sql.js@1.8.0/dist/${file}`
                });

                showStatus('Loading Bangladesh map data...', 'loading');

                // Create the database with sample data
                db = new SQL.Database();
                
                // Create tables
                createTables();
                
                // Insert sample data
                insertSampleData();
                
                showStatus('Database loaded successfully!', 'success');
                loadBtn.textContent = 'Database Loaded';
                loadBtn.disabled = false;
                
                // Load initial data
                loadAllData();
                
            } catch (error) {
                console.error('Error initializing database:', error);
                showStatus('Error loading database: ' + error.message, 'error');
            }
        }

        function createTables() {
            // Create divisions table
            db.exec(`
                CREATE TABLE IF NOT EXISTS divisions (
                    id INTEGER PRIMARY KEY AUTOINCREMENT,
                    name TEXT NOT NULL,
                    name_bengali TEXT,
                    capital TEXT,
                    area_km2 REAL,
                    population INTEGER,
                    established_year INTEGER,
                    coordinates TEXT,
                    description TEXT
                )
            `);

            // Create districts table
            db.exec(`
                CREATE TABLE IF NOT EXISTS districts (
                    id INTEGER PRIMARY KEY AUTOINCREMENT,
                    name TEXT NOT NULL,
                    name_bengali TEXT,
                    division_id INTEGER,
                    area_km2 REAL,
                    population INTEGER,
                    coordinates TEXT,
                    upazilas_count INTEGER,
                    FOREIGN KEY (division_id) REFERENCES divisions (id)
                )
            `);

            // Create rivers table
            db.exec(`
                CREATE TABLE IF NOT EXISTS rivers (
                    id INTEGER PRIMARY KEY AUTOINCREMENT,
                    name TEXT NOT NULL,
                    name_bengali TEXT,
                    length_km REAL,
                    source TEXT,
                    mouth TEXT,
                    coordinates TEXT,
                    description TEXT
                )
            `);

            // Create landmarks table
            db.exec(`
                CREATE TABLE IF NOT EXISTS landmarks (
                    id INTEGER PRIMARY KEY AUTOINCREMENT,
                    name TEXT NOT NULL,
                    name_bengali TEXT,
                    type TEXT,
                    division_id INTEGER,
                    district_id INTEGER,
                    coordinates TEXT,
                    description TEXT,
                    established_year INTEGER,
                    FOREIGN KEY (division_id) REFERENCES divisions (id),
                    FOREIGN KEY (district_id) REFERENCES districts (id)
                )
            `);
        }

        function insertSampleData() {
            // Insert divisions
            const divisions = [
                ['Dhaka', '‡¶¢‡¶æ‡¶ï‡¶æ', 'Dhaka', 31119.0, 44000000, 1971, 
                 JSON.stringify({lat: 23.8103, lng: 90.4125}), 
                 'Capital division and most populous region'],
                ['Chittagong', '‡¶ö‡¶ü‡ßç‡¶ü‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ', 'Chittagong', 33908.0, 28000000, 1971,
                 JSON.stringify({lat: 22.3569, lng: 91.7832}),
                 'Major port city and industrial hub'],
                ['Rajshahi', '‡¶∞‡¶æ‡¶ú‡¶∂‡¶æ‡¶π‡ßÄ', 'Rajshahi', 18174.0, 18000000, 1971,
                 JSON.stringify({lat: 24.3745, lng: 88.6042}),
                 'Agricultural region in the northwest'],
                ['Khulna', '‡¶ñ‡ßÅ‡¶≤‡¶®‡¶æ', 'Khulna', 22284.0, 15000000, 1971,
                 JSON.stringify({lat: 22.8456, lng: 89.5403}),
                 'Southwestern region with mangrove forests'],
                ['Barisal', '‡¶¨‡¶∞‡¶ø‡¶∂‡¶æ‡¶≤', 'Barisal', 13297.0, 8000000, 1971,
                 JSON.stringify({lat: 22.7010, lng: 90.3535}),
                 'Riverine region in the south'],
                ['Sylhet', '‡¶∏‡¶ø‡¶≤‡ßá‡¶ü', 'Sylhet', 12595.0, 9000000, 1971,
                 JSON.stringify({lat: 24.8949, lng: 91.8687}),
                 'Northeastern region with tea gardens'],
                ['Rangpur', '‡¶∞‡¶Ç‡¶™‡ßÅ‡¶∞', 'Rangpur', 16317.0, 15000000, 2010,
                 JSON.stringify({lat: 25.7439, lng: 89.2752}),
                 'Northern region, newest division'],
                ['Mymensingh', '‡¶Æ‡¶Ø‡¶º‡¶Æ‡¶®‡¶∏‡¶ø‡¶Ç‡¶π', 'Mymensingh', 10584.0, 11000000, 2015,
                 JSON.stringify({lat: 24.7471, lng: 90.4203}),
                 'Central region, newest division']
            ];

            const stmt1 = db.prepare(`
                INSERT INTO divisions (name, name_bengali, capital, area_km2, population, 
                                     established_year, coordinates, description)
                VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            `);
            
            divisions.forEach(division => {
                stmt1.run(division);
            });
            stmt1.free();

            // Insert districts
            const districts = [
                ['Dhaka', '‡¶¢‡¶æ‡¶ï‡¶æ', 1, 1463.0, 12000000, 
                 JSON.stringify({lat: 23.8103, lng: 90.4125}), 93],
                ['Chittagong', '‡¶ö‡¶ü‡ßç‡¶ü‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ', 2, 5282.0, 8000000,
                 JSON.stringify({lat: 22.3569, lng: 91.7832}), 11],
                ['Sylhet', '‡¶∏‡¶ø‡¶≤‡ßá‡¶ü', 6, 3490.0, 3000000,
                 JSON.stringify({lat: 24.8949, lng: 91.8687}), 13],
                ['Rajshahi', '‡¶∞‡¶æ‡¶ú‡¶∂‡¶æ‡¶π‡ßÄ', 3, 2407.0, 2500000,
                 JSON.stringify({lat: 24.3745, lng: 88.6042}), 9],
                ['Khulna', '‡¶ñ‡ßÅ‡¶≤‡¶®‡¶æ', 4, 4394.0, 2300000,
                 JSON.stringify({lat: 22.8456, lng: 89.5403}), 9],
                ['Cox\'s Bazar', '‡¶ï‡¶ï‡ßç‡¶∏‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞', 2, 2491.0, 2300000,
                 JSON.stringify({lat: 21.4272, lng: 92.0058}), 8],
                ['Rangpur', '‡¶∞‡¶Ç‡¶™‡ßÅ‡¶∞', 7, 2378.0, 2800000,
                 JSON.stringify({lat: 25.7439, lng: 89.2752}), 8],
                ['Barisal', '‡¶¨‡¶∞‡¶ø‡¶∂‡¶æ‡¶≤', 5, 2790.0, 2000000,
                 JSON.stringify({lat: 22.7010, lng: 90.3535}), 6]
            ];

            const stmt2 = db.prepare(`
                INSERT INTO districts (name, name_bengali, division_id, area_km2, 
                                     population, coordinates, upazilas_count)
                VALUES (?, ?, ?, ?, ?, ?, ?)
            `);
            
            districts.forEach(district => {
                stmt2.run(district);
            });
            stmt2.free();

            // Insert rivers
            const rivers = [
                ['Padma', '‡¶™‡¶¶‡ßç‡¶Æ‡¶æ', 120.0, 'Ganges River', 'Bay of Bengal',
                 JSON.stringify([{lat: 23.5, lng: 89.0}, {lat: 22.0, lng: 90.0}]),
                 'Main distributary of the Ganges'],
                ['Meghna', '‡¶Æ‡ßá‡¶ò‡¶®‡¶æ', 130.0, 'Barak River', 'Bay of Bengal',
                 JSON.stringify([{lat: 24.0, lng: 91.0}, {lat: 22.5, lng: 90.5}]),
                 'Major river in eastern Bangladesh'],
                ['Jamuna', '‡¶Ø‡¶Æ‡ßÅ‡¶®‡¶æ', 205.0, 'Brahmaputra River', 'Padma River',
                 JSON.stringify([{lat: 25.0, lng: 89.5}, {lat: 23.5, lng: 89.0}]),
                 'Main distributary of the Brahmaputra'],
                ['Karnaphuli', '‡¶ï‡¶∞‡ßç‡¶£‡¶´‡ßÅ‡¶≤‡ßÄ', 180.0, 'Lushai Hills', 'Bay of Bengal',
                 JSON.stringify([{lat: 22.0, lng: 92.0}, {lat: 22.3, lng: 91.8}]),
                 'River flowing through Chittagong'],
                ['Surma', '‡¶∏‡ßÅ‡¶∞‡¶Æ‡¶æ', 245.0, 'Barak River', 'Meghna River',
                 JSON.stringify([{lat: 24.5, lng: 92.0}, {lat: 24.0, lng: 91.0}]),
                 'River in northeastern Bangladesh']
            ];

            const stmt3 = db.prepare(`
                INSERT INTO rivers (name, name_bengali, length_km, source, mouth, 
                                  coordinates, description)
                VALUES (?, ?, ?, ?, ?, ?, ?)
            `);
            
            rivers.forEach(river => {
                stmt3.run(river);
            });
            stmt3.free();

            // Insert landmarks
            const landmarks = [
                ['Sundarbans', '‡¶∏‡ßÅ‡¶®‡ßç‡¶¶‡¶∞‡¶¨‡¶®', 'natural', 4, 5,
                 JSON.stringify({lat: 22.0, lng: 89.0}),
                 'Largest mangrove forest in the world', null],
                ['Cox\'s Bazar Beach', '‡¶ï‡¶ï‡ßç‡¶∏‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞ ‡¶∏‡¶Æ‡ßÅ‡¶¶‡ßç‡¶∞ ‡¶∏‡ßà‡¶ï‡¶§', 'natural', 2, 6,
                 JSON.stringify({lat: 21.4272, lng: 92.0058}),
                 'Longest natural sea beach in the world', null],
                ['Lalbagh Fort', '‡¶≤‡¶æ‡¶≤‡¶¨‡¶æ‡¶ó ‡¶ï‡ßá‡¶≤‡ßç‡¶≤‡¶æ', 'historical', 1, 1,
                 JSON.stringify({lat: 23.7193, lng: 90.3881}),
                 '17th-century Mughal fort in Dhaka', 1678],
                ['Shat Gombuj Mosque', '‡¶∑‡¶æ‡¶ü ‡¶ó‡¶Æ‡ßç‡¶¨‡ßÅ‡¶ú ‡¶Æ‡¶∏‡¶ú‡¶ø‡¶¶', 'historical', 4, 5,
                 JSON.stringify({lat: 22.6667, lng: 89.7667}),
                 '15th-century mosque in Bagerhat', 1459],
                ['Srimangal Tea Gardens', '‡¶∂‡ßç‡¶∞‡ßÄ‡¶Æ‡¶ô‡ßç‡¶ó‡¶≤ ‡¶ö‡¶æ ‡¶¨‡¶æ‡¶ó‡¶æ‡¶®', 'cultural', 6, 3,
                 JSON.stringify({lat: 24.3, lng: 91.7}),
                 'Famous tea gardens in Sylhet', null]
            ];

            const stmt4 = db.prepare(`
                INSERT INTO landmarks (name, name_bengali, type, division_id, district_id,
                                     coordinates, description, established_year)
                VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            `);
            
            landmarks.forEach(landmark => {
                stmt4.run(landmark);
            });
            stmt4.free();
        }

        function loadAllData() {
            if (!db) return;

            try {
                // Load divisions
                const divisionsStmt = db.prepare('SELECT * FROM divisions');
                currentData.divisions = [];
                while (divisionsStmt.step()) {
                    currentData.divisions.push(divisionsStmt.getAsObject());
                }
                divisionsStmt.free();

                // Load districts
                const districtsStmt = db.prepare('SELECT * FROM districts');
                currentData.districts = [];
                while (districtsStmt.step()) {
                    currentData.districts.push(districtsStmt.getAsObject());
                }
                districtsStmt.free();

                // Load rivers
                const riversStmt = db.prepare('SELECT * FROM rivers');
                currentData.rivers = [];
                while (riversStmt.step()) {
                    currentData.rivers.push(riversStmt.getAsObject());
                }
                riversStmt.free();

                // Load landmarks
                const landmarksStmt = db.prepare('SELECT * FROM landmarks');
                currentData.landmarks = [];
                while (landmarksStmt.step()) {
                    currentData.landmarks.push(landmarksStmt.getAsObject());
                }
                landmarksStmt.free();

                filteredData = { ...currentData };
                updateStats();
                displayData();
                statsContainer.style.display = 'grid';

            } catch (error) {
                console.error('Error loading data:', error);
                showStatus('Error loading data: ' + error.message, 'error');
            }
        }

        function updateStats() {
            document.getElementById('divisionsCount').textContent = currentData.divisions?.length || 0;
            document.getElementById('districtsCount').textContent = currentData.districts?.length || 0;
            document.getElementById('riversCount').textContent = currentData.rivers?.length || 0;
            document.getElementById('landmarksCount').textContent = currentData.landmarks?.length || 0;
        }

        function searchData() {
            if (!db) return;

            const searchTerm = searchInput.value.toLowerCase();
            const filter = filterSelect.value;
            
            try {
                filteredData = {};
                
                if (filter === 'all' || filter === 'divisions') {
                    const stmt = db.prepare(`
                        SELECT * FROM divisions 
                        WHERE LOWER(name) LIKE ? OR LOWER(name_bengali) LIKE ?
                    `);
                    filteredData.divisions = [];
                    stmt.bind([`%${searchTerm}%`, `%${searchTerm}%`]);
                    while (stmt.step()) {
                        filteredData.divisions.push(stmt.getAsObject());
                    }
                    stmt.free();
                } else {
                    filteredData.divisions = currentData.divisions;
                }

                if (filter === 'all' || filter === 'districts') {
                    const stmt = db.prepare(`
                        SELECT * FROM districts 
                        WHERE LOWER(name) LIKE ? OR LOWER(name_bengali) LIKE ?
                    `);
                    filteredData.districts = [];
                    stmt.bind([`%${searchTerm}%`, `%${searchTerm}%`]);
                    while (stmt.step()) {
                        filteredData.districts.push(stmt.getAsObject());
                    }
                    stmt.free();
                } else {
                    filteredData.districts = currentData.districts;
                }

                if (filter === 'all' || filter === 'rivers') {
                    const stmt = db.prepare(`
                        SELECT * FROM rivers 
                        WHERE LOWER(name) LIKE ? OR LOWER(name_bengali) LIKE ?
                    `);
                    filteredData.rivers = [];
                    stmt.bind([`%${searchTerm}%`, `%${searchTerm}%`]);
                    while (stmt.step()) {
                        filteredData.rivers.push(stmt.getAsObject());
                    }
                    stmt.free();
                } else {
                    filteredData.rivers = currentData.rivers;
                }

                if (filter === 'all' || filter === 'landmarks') {
                    const stmt = db.prepare(`
                        SELECT * FROM landmarks 
                        WHERE LOWER(name) LIKE ? OR LOWER(name_bengali) LIKE ?
                    `);
                    filteredData.landmarks = [];
                    stmt.bind([`%${searchTerm}%`, `%${searchTerm}%`]);
                    while (stmt.step()) {
                        filteredData.landmarks.push(stmt.getAsObject());
                    }
                    stmt.free();
                } else {
                    filteredData.landmarks = currentData.landmarks;
                }

                displayData();

            } catch (error) {
                console.error('Error searching data:', error);
                showStatus('Error searching data: ' + error.message, 'error');
            }
        }

        function displayData() {
            let html = '';
            
            // Display divisions
            if (filteredData.divisions?.length > 0) {
                html += createSectionHTML('Divisions', filteredData.divisions, 'division');
            }
            
            // Display districts
            if (filteredData.districts?.length > 0) {
                html += createSectionHTML('Districts', filteredData.districts, 'district');
            }
            
            // Display rivers
            if (filteredData.rivers?.length > 0) {
                html += createSectionHTML('Rivers', filteredData.rivers, 'river');
            }
            
            // Display landmarks
            if (filteredData.landmarks?.length > 0) {
                html += createSectionHTML('Landmarks', filteredData.landmarks, 'landmark');
            }
            
            if (!html) {
                html = '<div class="error">No data found matching your search criteria.</div>';
            }
            
            dataContainer.innerHTML = html;
        }

        function createSectionHTML(title, data, type) {
            let html = `<div class="data-section">
                <h2 class="section-title">${title} (${data.length})</h2>
                <div class="data-grid">`;
            
            data.forEach(item => {
                html += `<div class="data-card">
                    <h3>${item.name}</h3>
                    <div class="bengali">${item.name_bengali || ''}</div>`;
                
                if (type === 'division') {
                    html += `<p><strong>Capital:</strong> ${item.capital}</p>
                            <p><strong>Area:</strong> ${item.area_km2?.toLocaleString()} km¬≤</p>
                            <p><strong>Population:</strong> ${item.population?.toLocaleString()}</p>
                            <p><strong>Established:</strong> ${item.established_year}</p>`;
                } else if (type === 'district') {
                    html += `<p><strong>Area:</strong> ${item.area_km2?.toLocaleString()} km¬≤</p>
                            <p><strong>Population:</strong> ${item.population?.toLocaleString()}</p>
                            <p><strong>Upazilas:</strong> ${item.upazilas_count}</p>`;
                } else if (type === 'river') {
                    html += `<p><strong>Length:</strong> ${item.length_km} km</p>
                            <p><strong>Source:</strong> ${item.source}</p>
                            <p><strong>Mouth:</strong> ${item.mouth}</p>`;
                } else if (type === 'landmark') {
                    html += `<p><strong>Type:</strong> ${item.type}</p>
                            <p><strong>Established:</strong> ${item.established_year || 'Unknown'}</p>`;
                }
                
                if (item.coordinates) {
                    try {
                        const coords = JSON.parse(item.coordinates);
                        if (Array.isArray(coords)) {
                            html += `<div class="coordinates">
                                üìç River Path: ${coords.length} points
                            </div>`;
                        } else {
                            html += `<div class="coordinates">
                                üìç ${coords.lat}, ${coords.lng}
                            </div>`;
                        }
                    } catch (e) {
                        html += `<div class="coordinates">
                            üìç ${item.coordinates}
                        </div>`;
                    }
                }
                
                if (item.description) {
                    html += `<p><strong>Description:</strong> ${item.description}</p>`;
                }
                
                html += '</div>';
            });
            
            html += '</div></div>';
            return html;
        }

        function showStatus(message, type) {
            const statusClass = type === 'error' ? 'error' : type === 'success' ? 'status' : 'loading';
            statusContainer.innerHTML = `<div class="${statusClass}">${message}</div>`;
        }

        // Initialize the database when the page loads
        window.addEventListener('load', initDatabase);
    </script>
</body>
</html>
